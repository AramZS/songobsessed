@use 'variables'

#stable-container
    margin: 0

#media-container
    float: right
    width: 100%
    position: fixed
    bottom: 6px
    left: 0

.stretch-footer
    background: rgb(255,46,255)
    background: linear-gradient(180deg, #ff2eff 0%, #ff2f86 25%, #00fff2 85%)
    width: 100%
    height: 10px
    display: block
    position: fixed
    bottom: 0

#xplayer
    text-align: right
    border: var(--accent) 8px inset
    border-style: groove
    background: var(--background-color)
    width: 100%
    transition: opacity 1s, display 5s allow-discrete
    display: none
    opacity: 0
    &.player-active
        opacity: 1
        display: block

@starting-style
    #xplayer.player-active
        opacity: 0

#xplayer-wrapper
    display: flex
    align-items: flex-end
    flex-wrap: wrap
    padding: 6px
    gap: 16px

#xplayer-playlist
    overflow: hidden
    max-height: 200px
    overflow-y: auto

.playlist-item
    border-radius: 5px

#xplayer-currently
    color: var(--dark-highlight-accent)
    background-color: var(--dark-highlight)
    padding: .35em

#xplayer-currently .playlist-item
    display: inline-block

#xplayer-playlist-next .playlist-item
    background: var(--accent-overlap)
    display: block
    color: var(--base-font-color)
    padding: 0.05em 0.25em
    border-radius: 5px
    max-width: max-content

#xplayer-playbox-wrapper
    width: 390px
    height: 200px
    flex-grow: 1
    overflow: hidden
    text-align: center
#xplayer-playbox
    width: 100%
    height: 100%

[xp-playertype="spotify"] #xplayer-playbox
    width: 390px
    height: 152px
    margin: 26px auto

#xplayer-playlist
    text-align: justify
    flex-grow: 3
    p
        text-align: left

.playlist-link-chip
    display: inline-block
    margin-left: 8px

a.xplayer-songlink
    font-size: .7em
    margin-top: 2px
    text-decoration: none
    vertical-align: middle

.playlist-chip
    cursor: pointer
    &:not(.playlist-link-chip)
        background: var(--accent-overlap)
        color: var(--back-fill)
        padding: 0.05em 0.25em
        margin-left: 8px
        border-radius: 5px
        max-width: max-content
        vertical-align: middle
    &.playlist-next-chip
        font-weight: 900

.xplayer-image
    display: none

#xplayer-image-wrapper
    display: none

[xp-playertype="native"]
    #xplayer-playbox
        display: none
    #xplayer-image-wrapper
        display: inline-flex
        text-align: center
        position: relative
        justify-content: center
        overflow: hidden
        height: 70%
        width: 70%
        margin: 0 auto
    .xplayer-image
        display: inline-block
        object-fit: contain
        position: relative
        width: 100%
    #xplayer-native-playbox
        display: block
        margin: 0 auto

#xplayer-controlbox
    position: fixed
    bottom: -7px
    right: 25px
    background-color: var(--accent-overlap)
    color: var(--back-fill)
    width: max-content
    div.xplayer-control
        color: var(--back-fill)
        text-decoration: none
        padding: 0px 5px
        vertical-align: top
        display: inline-block
        cursor: pointer

#xplayer.large
    #xplayer-wrapper
        flex-direction: row-reverse
    #xplayer-playbox-wrapper
        width: 575px
        height: 472px
        flex-grow: 3
    &[xp-playertype="spotify"] #xplayer-playbox
        width: 800px
        height: 450px
        margin: 60px auto
    #xplayer-playlist
        margin-bottom: 10px
        flex-grow: 2

#xplayer.min
    max-height: 100px
    #xplayer-wrapper
        flex-basis: 60px
    #xplayer-playbox-wrapper
        max-width: 390px
        max-height: 200px
    #xplayer-playbox-wrapper
        width: 60px
        height: 60px
        flex-grow: 0
        position: relative
    #xplayer-image-wrapper
        text-align: center
        position: relative
        justify-content: center
        overflow: hidden
        height: 100%
        width: 100%
    #xplayer-playbox
        position: absolute
        left: -9999px
        top: -9999px
    .xplayer-image
        display: inline-block
        object-fit: cover
        position: relative
        width: 60px
    #xplayer-playlist
        flex-grow: 8
        max-height: 60px
        flex-basis: min-content
    #xplayer-image-wrapper
        display: inline-block
